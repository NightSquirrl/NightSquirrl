import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,a as e,b as n,d as t,e as p,o as l,r as u}from"./app-DHpiXQOM.js";const i={},r={href:"https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/js-apis-http-0000001478061929-V3#ZH-CN_TOPIC_0000001523968386__requestmethod",target:"_blank",rel:"noopener noreferrer"},k={href:"https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/js-apis-http-0000001478061929-V3#ZH-CN_TOPIC_0000001523968386__entry809654898152951p0",target:"_blank",rel:"noopener noreferrer"},d={href:"https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/js-apis-http-0000001478061929-V3#ZH-CN_TOPIC_0000001523968386__httpdatatype9",target:"_blank",rel:"noopener noreferrer"},m={href:"https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/js-apis-http-0000001478061929-V3#ZH-CN_TOPIC_0000001523968386__httpprotocol9",target:"_blank",rel:"noopener noreferrer"};function v(b,s){const a=u("ExternalLinkIcon");return l(),c("div",null,[s[19]||(s[19]=e(`<h1 id="ç½‘ç»œè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œè¯·æ±‚"><span>ç½‘ç»œè¯·æ±‚</span></a></h1><ul><li>httpæ•°æ®è¯·æ±‚</li><li>websocket</li><li>socket</li></ul><h2 id="http" tabindex="-1"><a class="header-anchor" href="#http"><span>HTTP</span></a></h2><h3 id="å¯¼å…¥æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#å¯¼å…¥æ¨¡å—"><span>å¯¼å…¥æ¨¡å—</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#39;@ohos.net.http&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="demo" tabindex="-1"><a class="header-anchor" href="#demo"><span>Demo</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// å¼•å…¥åŒ…å</span>
<span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#39;@ohos.net.http&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// æ¯ä¸€ä¸ªhttpRequestå¯¹åº”ä¸€ä¸ªHTTPè¯·æ±‚ä»»åŠ¡ï¼Œä¸å¯å¤ç”¨</span>
<span class="token keyword">let</span> httpRequest <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createHttp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ç”¨äºè®¢é˜…HTTPå“åº”å¤´ï¼Œæ­¤æ¥å£ä¼šæ¯”requestè¯·æ±‚å…ˆè¿”å›ã€‚å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€è¦è®¢é˜…æ­¤æ¶ˆæ¯</span>
<span class="token comment">// ä»API 8å¼€å§‹ï¼Œä½¿ç”¨on(&#39;headersReceive&#39;, Callback)æ›¿ä»£on(&#39;headerReceive&#39;, AsyncCallback)ã€‚ 8+</span>
httpRequest<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;headersReceive&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>header<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;header: &#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
httpRequest<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>
    <span class="token comment">// å¡«å†™HTTPè¯·æ±‚çš„URLåœ°å€ï¼Œå¯ä»¥å¸¦å‚æ•°ä¹Ÿå¯ä»¥ä¸å¸¦å‚æ•°ã€‚URLåœ°å€éœ€è¦å¼€å‘è€…è‡ªå®šä¹‰ã€‚è¯·æ±‚çš„å‚æ•°å¯ä»¥åœ¨extraDataä¸­æŒ‡å®š</span>
    <span class="token string">&quot;EXAMPLE_URL&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        method<span class="token operator">:</span> http<span class="token punctuation">.</span>RequestMethod<span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">,</span> <span class="token comment">// å¯é€‰ï¼Œé»˜è®¤ä¸ºhttp.RequestMethod.GET</span>
        <span class="token comment">// å¼€å‘è€…æ ¹æ®è‡ªèº«ä¸šåŠ¡éœ€è¦æ·»åŠ headerå­—æ®µ</span>
        header<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// å½“ä½¿ç”¨POSTè¯·æ±‚æ—¶æ­¤å­—æ®µç”¨äºä¼ é€’å†…å®¹</span>
        extraData<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data to send&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        expectDataType<span class="token operator">:</span> http<span class="token punctuation">.</span>HttpDataType<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span> <span class="token comment">// å¯é€‰ï¼ŒæŒ‡å®šè¿”å›æ•°æ®çš„ç±»å‹</span>
        usingCache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¯é€‰ï¼Œé»˜è®¤ä¸ºtrue</span>
        priority<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// å¯é€‰ï¼Œé»˜è®¤ä¸º1</span>
        connectTimeout<span class="token operator">:</span> <span class="token number">60000</span><span class="token punctuation">,</span> <span class="token comment">// å¯é€‰ï¼Œé»˜è®¤ä¸º60000ms</span>
        readTimeout<span class="token operator">:</span> <span class="token number">60000</span><span class="token punctuation">,</span> <span class="token comment">// å¯é€‰ï¼Œé»˜è®¤ä¸º60000ms</span>
        usingProtocol<span class="token operator">:</span> http<span class="token punctuation">.</span>HttpProtocol<span class="token punctuation">.</span><span class="token constant">HTTP1_1</span><span class="token punctuation">,</span> <span class="token comment">// å¯é€‰ï¼Œåè®®ç±»å‹é»˜è®¤å€¼ç”±ç³»ç»Ÿè‡ªåŠ¨æŒ‡å®š</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// data.resultä¸ºHTTPå“åº”å†…å®¹ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€è¦è¿›è¡Œè§£æ</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;Result:&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;code:&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>responseCode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// data.headerä¸ºHTTPå“åº”å¤´ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€è¦è¿›è¡Œè§£æ</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;header:&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>header<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;cookies:&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>cookies<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8+</span>
            <span class="token comment">// å–æ¶ˆè®¢é˜…HTTPå“åº”å¤´äº‹ä»¶</span>
            httpRequest<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">&#39;headersReceive&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å½“è¯¥è¯·æ±‚ä½¿ç”¨å®Œæ¯•æ—¶ï¼Œè°ƒç”¨destroyæ–¹æ³•ä¸»åŠ¨é”€æ¯</span>
            httpRequest<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;error:&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å–æ¶ˆè®¢é˜…HTTPå“åº”å¤´äº‹ä»¶</span>
            httpRequest<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">&#39;headersReceive&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å½“è¯¥è¯·æ±‚ä½¿ç”¨å®Œæ¯•æ—¶ï¼Œè°ƒç”¨destroyæ–¹æ³•ä¸»åŠ¨é”€æ¯ã€‚</span>
            httpRequest<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="requset-å‚æ•°" tabindex="-1"><a class="header-anchor" href="#requset-å‚æ•°"><span>requset å‚æ•°</span></a></h3>`,8)),n("table",null,[s[18]||(s[18]=n("thead",null,[n("tr",null,[n("th",null,"åç§°"),n("th",null,"ç±»å‹"),n("th",null,"å¿…å¡«"),n("th",null,"è¯´æ˜")])],-1)),n("tbody",null,[n("tr",null,[s[1]||(s[1]=n("td",null,"method",-1)),n("td",null,[n("a",r,[s[0]||(s[0]=t("RequestMethod")),p(a)])]),s[2]||(s[2]=n("td",null,"å¦",-1)),s[3]||(s[3]=n("td",null,"è¯·æ±‚æ–¹å¼ã€‚",-1))]),s[12]||(s[12]=n("tr",null,[n("td",null,"extraData"),n("td",null,[n("code",null,"string ")]),n("td",null,"Object"),n("td",null,[n("code",null,`ArrayBuffer8+å‘é€è¯·æ±‚çš„é¢å¤–æ•°æ®ã€‚- å½“HTTPè¯·æ±‚ä¸ºPOSTã€PUTç­‰æ–¹æ³•æ—¶ï¼Œæ­¤å­—æ®µä¸ºHTTPè¯·æ±‚çš„contentã€‚å½“'Content-Type'ä¸º'application/x-www-form-urlencoded'æ—¶ï¼Œè¯·æ±‚æäº¤çš„ä¿¡æ¯ä¸»ä½“æ•°æ®åº”åœ¨keyå’Œvalueè¿›è¡ŒURLè½¬ç åæŒ‰ç…§é”®å€¼å¯¹"key1=value1&key2=value2&key3=value3"çš„æ–¹å¼è¿›è¡Œç¼–ç ã€‚- å½“HTTPè¯·æ±‚ä¸ºGETã€OPTIONSã€DELETEã€TRACEã€CONNECTç­‰æ–¹æ³•æ—¶ï¼Œæ­¤å­—æ®µä¸ºHTTPè¯·æ±‚çš„å‚æ•°è¡¥å……ï¼Œå‚æ•°å†…å®¹ä¼šæ‹¼æ¥åˆ°URLä¸­è¿›è¡Œå‘é€ã€‚- å¼€å‘è€…ä¼ å…¥stringå¯¹è±¡ï¼Œå¼€å‘è€…éœ€è¦è‡ªè¡Œç¼–ç ï¼Œå°†ç¼–ç åçš„stringä¼ å…¥ã€‚`)])],-1)),n("tr",null,[n("td",null,[n("a",k,[s[4]||(s[4]=t("expectDataType9+")),p(a)])]),n("td",null,[n("a",d,[s[5]||(s[5]=t("HttpDataType")),p(a)])]),s[6]||(s[6]=n("td",null,"å¦",-1)),s[7]||(s[7]=n("td",null,"æŒ‡å®šè¿”å›æ•°æ®çš„ç±»å‹ã€‚å¦‚æœè®¾ç½®äº†æ­¤å‚æ•°ï¼Œç³»ç»Ÿå°†ä¼˜å…ˆè¿”å›æŒ‡å®šçš„ç±»å‹ã€‚",-1))]),s[13]||(s[13]=n("tr",null,[n("td",null,"usingCache9+"),n("td",null,"boolean"),n("td",null,"å¦"),n("td",null,"æ˜¯å¦ä½¿ç”¨ç¼“å­˜ï¼Œé»˜è®¤ä¸ºtrueã€‚")],-1)),s[14]||(s[14]=n("tr",null,[n("td",null,"priority9+"),n("td",null,"number"),n("td",null,"å¦"),n("td",null,"ä¼˜å…ˆçº§ï¼ŒèŒƒå›´[1,1000]ï¼Œé»˜è®¤æ˜¯1ã€‚")],-1)),s[15]||(s[15]=n("tr",null,[n("td",null,"header"),n("td",null,"Object"),n("td",null,"å¦"),n("td",null,[n("code",null,"HTTPè¯·æ±‚å¤´å­—æ®µã€‚é»˜è®¤{'Content-Type': 'application/json'}ã€‚")])],-1)),s[16]||(s[16]=n("tr",null,[n("td",null,"readTimeout"),n("td",null,"number"),n("td",null,"å¦"),n("td",null,"è¯»å–è¶…æ—¶æ—¶é—´ã€‚å•ä½ä¸ºæ¯«ç§’ï¼ˆmsï¼‰ï¼Œé»˜è®¤ä¸º60000msã€‚è®¾ç½®ä¸º0è¡¨ç¤ºä¸ä¼šå‡ºç°è¶…æ—¶æƒ…å†µã€‚")],-1)),s[17]||(s[17]=n("tr",null,[n("td",null,"connectTimeout"),n("td",null,"number"),n("td",null,"å¦"),n("td",null,"è¿æ¥è¶…æ—¶æ—¶é—´ã€‚å•ä½ä¸ºæ¯«ç§’ï¼ˆmsï¼‰ï¼Œé»˜è®¤ä¸º60000msã€‚")],-1)),n("tr",null,[s[9]||(s[9]=n("td",null,"usingProtocol9+",-1)),n("td",null,[n("a",m,[s[8]||(s[8]=t("HttpProtocol")),p(a)])]),s[10]||(s[10]=n("td",null,"å¦",-1)),s[11]||(s[11]=n("td",null,"ä½¿ç”¨åè®®ã€‚é»˜è®¤å€¼ç”±ç³»ç»Ÿè‡ªåŠ¨æŒ‡å®šã€‚",-1))])])]),s[20]||(s[20]=e(`<h2 id="websocket" tabindex="-1"><a class="header-anchor" href="#websocket"><span>webSocket</span></a></h2><h3 id="å¯¼å…¥æ¨¡å—-1" tabindex="-1"><a class="header-anchor" href="#å¯¼å…¥æ¨¡å—-1"><span>å¯¼å…¥æ¨¡å—</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> webSocket <span class="token keyword">from</span> <span class="token string">&#39;@ohos.net.webSocket&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="demo-1" tabindex="-1"><a class="header-anchor" href="#demo-1"><span>Demo</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> webSocket <span class="token keyword">from</span> <span class="token string">&#39;@ohos.net.webSocket&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> defaultIpAddress <span class="token operator">=</span> <span class="token string">&quot;ws://&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ws <span class="token operator">=</span> webSocket<span class="token punctuation">.</span><span class="token function">createWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;on open, status:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">[</span><span class="token string">&#39;status&#39;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;, message:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">[</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å½“æ”¶åˆ°on(&#39;open&#39;)äº‹ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡send()æ–¹æ³•ä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡</span>
    ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, server!&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;send success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;send fail, err:&quot;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;on message, message:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å½“æ”¶åˆ°æœåŠ¡å™¨çš„\`bye\`æ¶ˆæ¯æ—¶ï¼ˆæ­¤æ¶ˆæ¯å­—æ®µä»…ä¸ºç¤ºæ„ï¼Œå…·ä½“å­—æ®µéœ€è¦ä¸æœåŠ¡å™¨åå•†ï¼‰ï¼Œä¸»åŠ¨æ–­å¼€è¿æ¥</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">&#39;bye&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ws<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;close success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;close fail, err is &quot;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;on close, code is &quot;</span> <span class="token operator">+</span> value<span class="token punctuation">.</span>code <span class="token operator">+</span> <span class="token string">&quot;, reason is &quot;</span> <span class="token operator">+</span> value<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;on error, error:&quot;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>defaultIpAddress<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;connect success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;connect fail, err:&quot;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5))])}const f=o(i,[["render",v],["__file","8-networkRequest.html.vue"]]),y=JSON.parse(`{"path":"/web/harmony/8-networkRequest.html","title":"ğŸ¦‹ 8-ç½‘ç»œè¯·æ±‚","lang":"zh-CN","frontmatter":{"title":"ğŸ¦‹ 8-ç½‘ç»œè¯·æ±‚","tag":["harmony"],"star":true,"description":"ç½‘ç»œè¯·æ±‚ httpæ•°æ®è¯·æ±‚ websocket socket HTTP å¯¼å…¥æ¨¡å— Demo requset å‚æ•° webSocket å¯¼å…¥æ¨¡å— Demo","head":[["meta",{"property":"og:url","content":"https://soft-vault.com/web/harmony/8-networkRequest.html"}],["meta",{"property":"og:site_name","content":"Night.Soul"}],["meta",{"property":"og:title","content":"ğŸ¦‹ 8-ç½‘ç»œè¯·æ±‚"}],["meta",{"property":"og:description","content":"ç½‘ç»œè¯·æ±‚ httpæ•°æ®è¯·æ±‚ websocket socket HTTP å¯¼å…¥æ¨¡å— Demo requset å‚æ•° webSocket å¯¼å…¥æ¨¡å— Demo"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-11T16:41:41.000Z"}],["meta",{"property":"article:author","content":"Night.Soul"}],["meta",{"property":"article:tag","content":"harmony"}],["meta",{"property":"article:modified_time","content":"2024-05-11T16:41:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ğŸ¦‹ 8-ç½‘ç»œè¯·æ±‚\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-11T16:41:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Night.Soul\\",\\"url\\":\\"https://github.com/NightSquirrl\\"}]}"]]},"headers":[{"level":2,"title":"HTTP","slug":"http","link":"#http","children":[{"level":3,"title":"å¯¼å…¥æ¨¡å—","slug":"å¯¼å…¥æ¨¡å—","link":"#å¯¼å…¥æ¨¡å—","children":[]},{"level":3,"title":"Demo","slug":"demo","link":"#demo","children":[]},{"level":3,"title":"requset å‚æ•°","slug":"requset-å‚æ•°","link":"#requset-å‚æ•°","children":[]}]},{"level":2,"title":"webSocket","slug":"websocket","link":"#websocket","children":[{"level":3,"title":"å¯¼å…¥æ¨¡å—","slug":"å¯¼å…¥æ¨¡å—-1","link":"#å¯¼å…¥æ¨¡å—-1","children":[]},{"level":3,"title":"Demo","slug":"demo-1","link":"#demo-1","children":[]}]}],"git":{"createdTime":1709475838000,"updatedTime":1715445701000,"contributors":[{"name":"nightsoul","email":"w1083670160@163.com","commits":1}]},"readingTime":{"minutes":3.16,"words":947},"filePathRelative":"web/harmony/8-networkRequest.md","localizedDate":"2024å¹´3æœˆ3æ—¥","excerpt":"\\n<ul>\\n<li>httpæ•°æ®è¯·æ±‚</li>\\n<li>websocket</li>\\n<li>socket</li>\\n</ul>\\n<h2>HTTP</h2>\\n<h3>å¯¼å…¥æ¨¡å—</h3>\\n<div class=\\"language-typescript\\" data-ext=\\"ts\\" data-title=\\"ts\\"><pre class=\\"language-typescript\\"><code><span class=\\"token keyword\\">import</span> http <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'@ohos.net.http'</span><span class=\\"token punctuation\\">;</span>\\n</code></pre></div>","autoDesc":true}`);export{f as comp,y as data};
